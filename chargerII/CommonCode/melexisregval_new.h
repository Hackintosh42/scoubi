    //Melexis TH71221 Register Setting
//Fairbridge Technologies 2004
//J van Aardt
#define LNAGAIN 1 #define MEL_REGA_LOADVAL_STANDBY  0x002cf050// #define MEL_REGA_LOADVAL_TX_LVL0       0x002c3850 | (LNAGAIN <<12)// #define MEL_REGA_LOADVAL_TX_LVL1       0x002c7850 // #define MEL_REGA_LOADVAL_TX_LVL2       0x002cb850// #define MEL_REGA_LOADVAL_TX_LVL3       0x002cf850// #define MEL_REGA_LOADVAL_RX       0x002cf450 #define MEL_REGA_LOADVAL_TX_LVL0       (0x002c3850 | (LNAGAIN <<12)) #define MEL_REGA_LOADVAL_TX_LVL1       (0x002c6850 | (LNAGAIN <<12)) #define MEL_REGA_LOADVAL_TX_LVL2       (0x002ca850 | (LNAGAIN <<12)) #define MEL_REGA_LOADVAL_TX_LVL3       (0x002ce850 | (LNAGAIN <<12)) #define MEL_REGA_LOADVAL_RX       0x002ce450 #define MEL_REGB_LOADVAL  0x00580050  #define MEL_REGC_LOADVAL_TX_433  0x00ac1088  //#define MEL_REGC_LOADVAL_TX_403  0x00ac0f5c  #define MEL_REGC_LOADVAL_TX_403  0x00ac1068   #define MEL_REGC_LOADVAL_RX_433  0x00a01088  //#define MEL_REGC_LOADVAL_RX_403  0x00a00f5c  #define MEL_REGC_LOADVAL_RX_403  0x00a01068   #define MEL_REGD_LOADVAL_433  0x00e810f3 // #define MEL_REGD_LOADVAL_403  0x00e80fc7  #define MEL_REGD_LOADVAL_403  0x00e810D3 #ifdef NOODLE//*******************************************/// Register Bit positions                   *///*******************************************/#define RXTX_OFFSET   107#define REG_BP        22// RegA#define RR_BP         0#define OPMODE_BP     10#define LNAGAIN_BP    12#define SETTOONE_A_BP 13#define TXPOWER_BP    14#define PACTRL_BP     16#define LOCKMODE_BP   17#define CPCUR_BP      18#define MODSEL_BP     19#define DATAPOL_BP    20#define IDLE_BP       21#define RR_SZ         10#define OPMODE_SZ     2#define LNAGAIN_SZ    1#define SETTOONE_A_SZ 1#define TXPOWER_SZ    2#define PACTRL_SZ     1#define LOCKMODE_SZ   1#define CPCUR_SZ      1#define MODSEL_SZ     1#define DATAPOL_SZ    1#define IDLE_SZ       1// RegB#define RT_BP        0#define ROMIN_BP     10#define ROMAX_BP     13#define OA2_BP       16#define AFC_BP       17#define LNAHYST_BP   18#define DELPLL_BP    19#define SETTOONE_B_BP  20#define PKDET_BP     21#define RT_SZ        10#define ROMIN_SZ     3 #define ROMAX_SZ     3#define OA2_SZ       1 #define AFC_SZ       1 #define LNAHYST_SZ   1 #define DELPLL_SZ    1 #define SETTOONE_B_SZ  1 #define PKDET_SZ     1// RegC#define NR_BP        0#define BAND_BP      17#define VCOCUR_BP    18#define PFDPOL_BP    20#define LNACTRL_BP   21#define NR_SZ        17#define BAND_SZ      1#define VCOCUR_SZ    2 #define PFDPOL_SZ    1 #define LNACTRL_SZ   1// RegD#define NT_BP        0#define ERTM_BP      17#define LDTM_BP      19#define MODCTRL_BP   21#define NT_SZ        17#define ERTM_SZ      2 #define LDTM_SZ      2 #define MODCTRL_SZ   1 //*******************************************// Register A Values                   //*******************************************    #define RR              80  #define OPMODE_STANDBY  0x00000000  #define OPMODE_TX       0x00000002  #define OPMODE_RX       0x00000001  #define OPMODE_IDLE     0x00000003  #define LNAGAIN         0x00000001  #define SETTOONE_A      0x00000001  #define TXPOWER         0x00000000    #define PACTRL          0x00000000  #define LOCKMODE        0x00000000  #define CPCUR           0x00000001  #define MODSEL          0x00000001  #define DATAPOL         0x00000000  #define IDLE            0x00000001  #define REGA_ADDR       0x00000000    #define MEL_REGA  (REGA_ADDR<<REG_BP|IDLE<<IDLE_BP|DATAPOL<<DATAPOL_BP|MODSEL<<MODSEL_BP|CPCUR<<CPCUR_BP|LOCKMODE<<LOCKMODE_BP| \                    PACTRL<<PACTRL_BP|TXPOWER<<TXPOWER_BP|SETTOONE_A<<SETTOONE_A_BP|LNAGAIN<<LNAGAIN_BP| \                    OPMODE_STANDBY<<OPMODE_BP|RR)                      #define MEL_REGA_0 (MEL_REGA & 0xFF)  #define MEL_REGA_1 ((MEL_REGA>>8)  & 0xFF)  #define MEL_REGA_2 ((MEL_REGA>>16) & 0xFF)    #define MEL_REGA_LOADVAL_STANDBY  (MEL_REGA)  #define MEL_REGA_LOADVAL_TX_LVL0  (MEL_REGA | OPMODE_TX<<OPMODE_BP | 0x00<<TXPOWER_BP)  #define MEL_REGA_LOADVAL_TX_LVL1  (MEL_REGA | OPMODE_TX<<OPMODE_BP | 0x01<<TXPOWER_BP)  #define MEL_REGA_LOADVAL_TX_LVL2  (MEL_REGA | OPMODE_TX<<OPMODE_BP | 0x02<<TXPOWER_BP)  #define MEL_REGA_LOADVAL_TX_LVL3  (MEL_REGA | OPMODE_TX<<OPMODE_BP | 0x03<<TXPOWER_BP)  #define MEL_REGA_LOADVAL_RX       (MEL_REGA | OPMODE_RX<<OPMODE_BP | 0x00<<TXPOWER_BP)  //*******************************************// Register B Values                   //*******************************************    #define RT                80  #define ROMIN             0  #define ROMAX             0   #define OA2               0  #define AFC               0  #define LNAHYST           0  #define DELPLL            1  #define SETTOONE_B        1  #define PKDET             0  #define REGB_ADDR         0x01    #define MEL_REGB   (REGB_ADDR<<REG_BP|PKDET<<PKDET_BP|SETTOONE_B<<SETTOONE_B_BP|DELPLL<<DELPLL_BP|LNAHYST<<LNAHYST_BP|AFC<<AFC_BP| \                     OA2<<OA2_BP|ROMAX<<ROMAX_BP|ROMIN<ROMIN_BP|RT)  #define MEL_REGB_0 (MEL_REGB & 0xFF)  #define MEL_REGB_1 ((MEL_REGB>>8)  & 0xFF)  #define MEL_REGB_2 ((MEL_REGB>>16) & 0xFF)  #define MEL_REGB_LOADVAL MEL_REGB//*******************************************// Register C Values                   //*******************************************                                        #define NR_403          3932  #define NR_433          4232  #define BAND            0  #define VCOCUR_RX       0x00      #define VCOCUR_TX       0x03      #define PFDPOL          0  #define LNACTRL         1  #define REGC_ADDR       0x02    #define testtt 0xFFFF000D    #define MEL_REGC   (REGC_ADDR<<REG_BP|LNACTRL<<LNACTRL_BP|PFDPOL<<PFDPOL_BP|VCOCUR_RX<<VCOCUR_BP|BAND<<BAND_BP)  #define MEL_REGC_0 (MEL_REGC & 0xFF)  #define MEL_REGC_1 ((MEL_REGC>>8)  & 0xFF)  #define MEL_REGC_2 ((MEL_REGC>>16) & 0xFF)  #define MEL_REGC_LOADVAL_TX_403  (MEL_REGC | VCOCUR_TX<<VCOCUR_BP | NR_403)  #define MEL_REGC_LOADVAL_TX_433  (MEL_REGC | VCOCUR_TX<<VCOCUR_BP | NR_433)  #define MEL_REGC_LOADVAL_RX_403  (MEL_REGC  | NR_403)  #define MEL_REGC_LOADVAL_RX_433  (MEL_REGC  | NR_433) //*******************************************// Register D Values                   //*******************************************    #define NT_403          (NR_403+ RXTX_OFFSET)      #define NT_433          (NR_433+ RXTX_OFFSET)                               #define ERTM            0  #define LDTM            1  #define MODCTRL         1  #define REGD_ADDR       0x03    #define MEL_REGD        (REGD_ADDR<<REG_BP|MODCTRL<<MODCTRL_BP|LDTM<<LDTM_BP|ERTM<<ERTM_BP)  #define MEL_REGD_0 (MEL_REGD & 0xFF)  #define MEL_REGD_1 ((MEL_REGD>>8)  & 0xFF)  #define MEL_REGD_2 ((MEL_REGD>>16) & 0xFF)  #define MEL_REGD_LOADVAL_403  (MEL_REGD | NT_403)  #define MEL_REGD_LOADVAL_433  (MEL_REGD | NT_433)// *******************************************// *******************************************#endif //NOODLE// *********************************************// *********************************************
/*

*/// *********************************************************************************// *********************************************************************************// *********************************************************************************// *********************************************************************************// *********************************************************************************
